(this.webpackJsonpbodoge=this.webpackJsonpbodoge||[]).push([[4],{29:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(32);function c(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},30:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(29);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){c=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(c)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},32:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},34:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n(0);var r=n(1);function c(e){return Object(r.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,children:e.children})}function a(e){var t=e.size/50;return Object(r.jsx)("rect",{x:e.x+t,y:e.y+t,width:e.size-2*t,height:e.size-2*t,rx:3*t,ry:3*t,fill:"rgba(0, 0, 0, 0)",stroke:"#111111",onClick:e.onClick})}function o(e){var t=.9*e.size,n=.1*e.size;return Object(r.jsxs)("g",{fill:"#53B0FF",transform:"rotate(45 ".concat(e.centerX," ").concat(e.centerY,")"),children:[Object(r.jsx)("rect",{x:e.centerX-t/2,y:e.centerY-n/2,rx:n/2,width:t,height:n}),Object(r.jsx)("rect",{x:e.centerX-n/2,y:e.centerY-t/2,ry:n/2,width:n,height:t})]})}function i(e){return Object(r.jsx)("circle",{cx:e.centerX,cy:e.centerY,r:e.size/3.5,fill:"none",stroke:"#FF972D",strokeWidth:e.size/10})}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var r=n(1);function c(e){return e.hasWinner?Object(r.jsx)("button",{className:"button is-primary",onClick:e.onClick,children:"Reset"}):Object(r.jsx)("button",{className:"button is-danger",onClick:e.onClick,children:"Reset"})}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var r=n(1);function c(e){return Object(r.jsx)("div",{className:"select",children:Object(r.jsx)("select",{onChange:function(t){return e.onChange(parseInt(t.target.value))},value:e.selected,disabled:e.isDisabled,children:e.items.map((function(e,t){return Object(r.jsx)("option",{value:t,children:e},t)}))})})}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(31),c=n(0),a=n(29);var o=n(30);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return(s=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var c=new(Function.bind.apply(e,r));return n&&i(c,n.prototype),c}).apply(null,arguments)}var l=n(32);function f(e){return function(e){if(Array.isArray(e))return Object(l.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=Symbol("Comlink.proxy"),b=Symbol("Comlink.endpoint"),p=Symbol("Comlink.releaseProxy"),y=Symbol("Comlink.thrown"),h=function(e){return"object"===typeof e&&null!==e||"function"===typeof e},j=new Map([["proxy",{canHandle:function(e){return h(e)&&e[d]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return m(e,n),[r,[r]]},deserialize:function(e){return e.start(),O(e)}}],["throw",{canHandle:function(e){return h(e)&&y in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",(function n(c){if(c&&c.data){var a,i=Object.assign({path:[]},c.data),u=i.id,l=i.type,d=i.path,b=(c.data.argumentList||[]).map(E);try{var p=d.slice(0,-1).reduce((function(e,t){return e[t]}),e),h=d.reduce((function(e,t){return e[t]}),e);switch(l){case 0:a=h;break;case 1:p[d.slice(-1)[0]]=E(c.data.value),a=!0;break;case 2:a=h.apply(p,b);break;case 3:var j;a=C(s(h,f(b)));break;case 4:var O=new MessageChannel,g=O.port1,x=O.port2;m(e,x),a=S(g,[g]);break;case 5:a=void 0}}catch(j){a=Object(o.a)({value:j},y,0)}Promise.resolve(a).catch((function(e){return Object(o.a)({value:e},y,0)})).then((function(e){var c=P(e),a=Object(r.a)(c,2),o=a[0],i=a[1];t.postMessage(Object.assign(Object.assign({},o),{id:u}),i),5===l&&(t.removeEventListener("message",n),v(t))}))}})),t.start&&t.start()}function v(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function O(e,t){return x(e,[],t)}function g(e){if(e)throw new Error("Proxy has been released and is not useable")}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=!1,a=new Proxy(n,{get:function(n,r){if(g(c),r===p)return function(){return F(e,{type:5,path:t.map((function(e){return e.toString()}))}).then((function(){v(e),c=!0}))};if("then"===r){if(0===t.length)return{then:function(){return a}};var o=F(e,{type:0,path:t.map((function(e){return e.toString()}))}).then(E);return o.then.bind(o)}return x(e,[].concat(f(t),[r]))},set:function(n,a,o){g(c);var i=P(o),u=Object(r.a)(i,2),s=u[0],l=u[1];return F(e,{type:1,path:[].concat(f(t),[a]).map((function(e){return e.toString()})),value:s},l).then(E)},apply:function(n,a,o){g(c);var i=t[t.length-1];if(i===b)return F(e,{type:4}).then(E);if("bind"===i)return x(e,t.slice(0,-1));var u=w(o),s=Object(r.a)(u,2),l=s[0],f=s[1];return F(e,{type:2,path:t.map((function(e){return e.toString()})),argumentList:l},f).then(E)},construct:function(n,a){g(c);var o=w(a),i=Object(r.a)(o,2),u=i[0],s=i[1];return F(e,{type:3,path:t.map((function(e){return e.toString()})),argumentList:u},s).then(E)}});return a}function w(e){var t,n=e.map(P);return[n.map((function(e){return e[0]})),(t=n.map((function(e){return e[1]})),Array.prototype.concat.apply([],t))]}var k=new WeakMap;function S(e,t){return k.set(e,t),e}function C(e){return Object.assign(e,Object(o.a)({},d,!0))}function P(e){var t,n=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(j);try{for(n.s();!(t=n.n()).done;){var c=Object(r.a)(t.value,2),o=c[0],i=c[1];if(i.canHandle(e)){var u=i.serialize(e),s=Object(r.a)(u,2);return[{type:3,name:o,value:s[0]},s[1]]}}}catch(l){n.e(l)}finally{n.f()}return[{type:0,value:e},k.get(e)||[]]}function E(e){switch(e.type){case 3:return j.get(e.name).deserialize(e.value);case 0:return e.value}}function F(e,t,n){return new Promise((function(r){var c=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===c&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:c},t),n)}))}function z(e){var t=Object(c.useState)(e),n=Object(r.a)(t,2),a=n[0],o=n[1],i=Object(c.useMemo)((function(){return O(a)}),[a]),u=Object(c.useState)(!1),s=Object(r.a)(u,2),l=s[0],f=s[1],d=Object(c.useState)(!0),b=Object(r.a)(d,2),p=b[0],y=b[1];return Object(c.useEffect)((function(){l||i.initialize().then((function(){f(!0),y(!1)}))}),[l,p,i]),[p,y,i,function(){a.terminate(),y(!0),o(e()),f(!1)}]}},40:function(e,t,n){e.exports=n.p+"mancala.bce3216112a8a695546d.worker.js"},43:function(e,t,n){"use strict";n.r(t),function(e){var r=n(31),c=n(30),a=n(33),o=n(0),i=n(34),u=n(35),s=n(36),l=n(37),f=n(1);function d(){return new Worker(e,{name:"mancala",type:void 0})}function b(e){var t=100,n={First:"#226",Second:"#622"};function r(t,r){return e.finished?n[t]:e.side===t?r>0?"#111":"#ccc":"#666"}return Object(f.jsxs)(i.d,{width:800,height:200,children:[Object(f.jsx)(p,{x:0,y:0,width:t,height:150,text:"".concat(e.score[1]),textColor:n.Second},"s1"),e.seeds[1].map((function(n,c){return Object(f.jsx)(p,{x:t*(6-c),y:0,width:t,height:t,text:"".concat(n),textColor:r("Second",n),onClick:function(){return e.onClick("Second",c)}},"Second".concat(c))})),e.seeds[0].map((function(n,c){return Object(f.jsx)(p,{x:t*(c+1),y:t,width:t,height:t,text:"".concat(n),textColor:r("First",n),onClick:function(){return e.onClick("First",c)}},"First".concat(c))})),Object(f.jsx)(p,{x:700,y:50,width:t,height:150,text:"".concat(e.score[0]),textColor:n.First},"s0")]})}function p(e){var t=e.width/50;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("text",{x:e.x+4*t,y:e.y+e.height-4*t,fontSize:"64",fill:e.textColor,children:e.text}),Object(f.jsx)("rect",{x:e.x+t,y:e.y+t,width:e.width-2*t,height:e.height-2*t,rx:3*t,ry:3*t,fill:"rgba(0, 0, 0, 0)",stroke:"#333",onClick:e.onClick})]})}function y(e){switch(e.type){case"Human":return"Human";case"CPU":return"CPU (".concat(e.params,")")}}function h(e,t){return{board:{stealing:e,side:"First",seeds:[[4,4,4,4,4,4],[4,4,4,4,4,4]],score:[0,0]},key:Math.random(),score:null,judged:!0,player:t}}function j(e,t){switch(t.type){case"reset":return h(e.board.stealing,e.player);case"change_player":return e.player[t.side]===t.id?e:h(e.board.stealing,Object(a.a)(Object(a.a)({},e.player),{},Object(c.a)({},t.side,t.id)));case"put":return t.key!==e.key||e.score?e:e.judged?Object(a.a)(Object(a.a)({},e),{},{board:t.board,judged:!1}):e;case"judge":return t.key!==e.key?e:Object(a.a)(Object(a.a)({},e),{},{score:t.score,judged:!0})}}t.default=function(){var e,t=Object(o.useMemo)((function(){return[{type:"Human"},{type:"CPU",params:"dfs:nn6:3"},{type:"CPU",params:"dfs:nn4:3"},{type:"CPU",params:"dfs:nn6:5"},{type:"CPU",params:"dfs:nn4:5"},{type:"CPU",params:"dfs:nn6:7"},{type:"CPU",params:"dfs:nn6:9"},{type:"CPU",params:"random"}]}),[]),n=Object(l.a)(d),c=Object(r.a)(n,4),i=c[0],p=c[1],m=c[2],v=c[3],O=Object(o.useReducer)(j,h(!0,{First:0,Second:0})),g=Object(r.a)(O,2),x=g[0],w=g[1];function k(e,t){x.player[e]!==t&&(v(),w({type:"change_player",side:e,id:t}))}if(Object(o.useEffect)((function(){if(!i&&!x.score)if(x.judged){var e=x.board.side,n=t[x.player[e]];switch(n.type){case"Human":break;case"CPU":var r=x.key;p(!0),m.search(x.board,n.params).then((function(e){w({type:"put",key:r,board:e}),p(!1)})).catch((function(e){return console.error(e)}))}}else{p(!0);var c=x.key;m.calculateScore(x.board).then((function(e){w({type:"judge",key:c,score:e}),p(!1)})).catch((function(e){return console.error(e)}))}}),[i,t,x,p,m]),null===x.score)e="next player: ".concat(x.board.side," side");else{var S="".concat(x.score[0]," - ").concat(x.score[1]);e=x.score[0]>x.score[1]?"winner First: ".concat(S):x.score[0]<x.score[1]?"winner Second: ".concat(S):"draw: ".concat(S)}return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:"content is-flex-direction-row",children:["First",Object(f.jsx)(s.a,{items:t.map(y),selected:x.player.First,isDisabled:!1,onChange:function(e){return k("First",e)}}),"vs",Object(f.jsx)(s.a,{items:t.map(y),selected:x.player.Second,isDisabled:!1,onChange:function(e){return k("Second",e)}}),"Second"]}),Object(f.jsx)("div",{className:"content",children:Object(f.jsx)(b,Object(a.a)(Object(a.a)({},x.board),{},{finished:null!==x.score,onClick:function(e,t){if(e===x.board.side&&0===x.player[e]){p(!0);var n=x.key;m.calculateMoved(x.board,t).then((function(e){w({type:"put",key:n,board:e}),p(!1)})).catch((function(e){return console.error(e)}))}}}))}),Object(f.jsx)("div",{className:"content",children:Object(f.jsx)("p",{children:e})}),Object(f.jsx)("div",{className:"content",children:Object(f.jsx)(u.a,{hasWinner:null!==x.score,onClick:function(){v(),w({type:"reset"})}})})]})}}.call(this,n(40))}}]);
//# sourceMappingURL=4.af95a229.chunk.js.map